#!/bin/sh

CURRENT_BRANCH="${1:-$CURRENT_BRANCH}"
DEVELOP_BRANCH="${DEVELOP_BRANCH:-"develop"}"
DEVELOP_BRANCH="${2:-$DEVELOP_BRANCH}"
FEATURE_BRANCH_PATTERN="${FEATURE_BRANCH_PATTERN:-"feature*"}"
FEATURE_BRANCH_PATTERN="${3:-$FEATURE_BRANCH_PATTERN}"
RELEASE_BRANCH_PATTERN="${RELEASE_BRANCH_PATTERN:-"release*"}"
RELEASE_BRANCH_PATTERN="${4:-$RELEASE_BRANCH_PATTERN}"
HOTFIX_BRANCH_PATTERN="${HOTFIX_BRANCH_PATTERN:-"hotfix*"}"
HOTFIX_BRANCH_PATTERN="${5:-$HOTFIX_BRANCH_PATTERN}"
PRODUCTION_BRANCH="${PRODUCTION_BRANCH:-"master"}"
PRODUCTION_BRANCH="${6:-$PRODUCTION_BRANCH}"

case "$CURRENT_BRANCH" in
    $FEATURE_BRANCH_PATTERN) echo "$DEVELOP_BRANCH";;
    $DEVELOP_BRANCH) echo "$PRODUCTION_BRANCH";;
    $RELEASE_BRANCH_PATTERN) echo "$PRODUCTION_BRANCH";;
    $HOTFIX_BRANCH_PATTERN) echo "$PRODUCTION_BRANCH";;
    $CURRENT_BRANCH) echo "$CURRENT_BRANCH";;
esac
